(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{847:(e,s,r)=>{Promise.resolve().then(r.bind(r,1057))},1057:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>x});var t=r(5155),a=r(2115),l=r(6766),n=r(6874),o=r.n(n);let d=e=>{var s;let r=e.name.toLowerCase();return(null==(s=e.categories)?void 0:s.includes("lightbases"))||r.includes("lightbase")||r.includes("light base")||r.includes("stand")||r.includes("rotating led")||r.includes("wooden premium")},i=()=>(0,t.jsx)("section",{className:"hero px-8 py-16 text-center",children:(0,t.jsxs)("div",{className:"hero-content max-w-xl mx-auto",children:[(0,t.jsx)("h1",{className:"primary-header mb-4",children:"Our Creations"}),(0,t.jsx)("p",{className:"lead",children:"Welcome to CrystalKeepsakes, where cherished moments are transformed into stunning 3D laser-engraved crystal creations."})]})}),c=()=>(0,t.jsx)("nav",{className:"breadcrumbs py-4",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)(o(),{href:"/",className:"hover:text-brand-400 transition-colors",children:"Home"}),(0,t.jsx)("span",{className:"mx-2 text-gray-600",children:"/"}),(0,t.jsx)("span",{className:"text-text-tertiary",children:"Products"})]})});function x(){let[e,s]=(0,a.useState)([]),[n,x]=(0,a.useState)(!0),[h,m]=(0,a.useState)(""),[b,u]=(0,a.useState)("all"),[g,p]=(0,a.useState)("all");(0,a.useEffect)(()=>{f()},[]),(0,a.useEffect)(()=>{p("all")},[b]),(0,a.useEffect)(()=>{},[e,n,h]);let f=async()=>{try{let{cockpit3dProducts:e,generatedAt:t,sourceInfo:a}=await r.e(145).then(r.bind(r,1145));s(e||[])}catch(e){console.error("❌ Error loading products from file:",e);try{let e=await fetch("/api/products",{cache:"no-store"});if(!e.ok)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText));let r=await e.json();if(r.success)s(r.products||[]);else throw Error(r.error||"Failed to load products")}catch(e){m(e.message)}}finally{x(!1)}},j=(e=>{switch(b){case"crystals":return e.filter(e=>!d(e));case"lightbases":return e.filter(e=>d(e));default:return e}})(e);[...new Set(j.flatMap(e=>{var s;return(null==(s=e.categories)?void 0:s.filter(e=>"lightbases"!==e))||[]}))];let v="all"===g?j:j.filter(e=>{var s;return null==(s=e.categories)?void 0:s.includes(g)});return n?(0,t.jsxs)("div",{className:"min-h-screen bg-dark-bg text-dark-text pt-[100px]",children:[(0,t.jsx)(i,{}),(0,t.jsx)(c,{}),(0,t.jsx)("div",{className:"py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block w-12 h-12 border-4 border-brand-500 border-t-transparent rounded-full animate-spin",role:"status",children:(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})}),(0,t.jsx)("p",{className:"mt-4 text-xl text-text-secondary",children:"Loading products from CockPit3D..."}),!1]})})]}):h?(0,t.jsxs)("div",{className:"min-h-screen bg-dark-bg text-dark-text pt-[100px]",children:[(0,t.jsx)(i,{}),(0,t.jsx)(c,{}),(0,t.jsx)("div",{className:"py-12 px-4",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto bg-red-900/20 border border-red-500 rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-xl font-semibold text-red-400 mb-3",children:"⚠️ Error Loading Products"}),(0,t.jsx)("p",{className:"text-text-secondary mb-4",children:h}),(0,t.jsx)("hr",{className:"border-red-500/30 mb-4"}),(0,t.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>{x(!0),m(""),f()},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"\uD83D\uDD04 Retry"}),(0,t.jsx)(o(),{href:"/",className:"px-4 py-2 bg-transparent border border-gray-400 hover:bg-gray-800 text-white rounded-lg transition-colors font-medium",children:"← Back to Home"})]}),!1]})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-dark-bg text-dark-text",children:[(0,t.jsx)(i,{}),(0,t.jsx)(c,{}),(0,t.jsx)("section",{className:"container mx-auto px-4 mb-6",children:(0,t.jsxs)("div",{className:"flex gap-1 justify-start",children:[(0,t.jsxs)("button",{onClick:()=>u("all"),className:"px-2 py-2 rounded-lg font-semibold transition-all ".concat("all"===b?"bg-brand-500 text-white border-2 border-brand-500 shadow-glow-soft":"cursor-pointer bg-transparent border-2 border-gray-600 text-text-secondary hover:border-brand-400 hover:bg-brand-500/10 hover:text-brand-400"),children:["All Products (",e.length,")"]}),(0,t.jsxs)("button",{onClick:()=>u("crystals"),className:"px-2 py-2 rounded-lg font-semibold transition-all ".concat("crystals"===b?"bg-brand-500 text-white border-2 border-brand-500 shadow-glow-soft":"cursor-pointer bg-transparent border-2 border-gray-600 text-text-secondary hover:border-brand-400 hover:bg-brand-500/10 hover:text-brand-400"),children:["\uD83D\uDC8E Crystals (",e.filter(e=>!d(e)).length,")"]}),(0,t.jsxs)("button",{onClick:()=>u("lightbases"),className:"px-2 py-2 rounded-lg font-semibold transition-all ".concat("lightbases"===b?"bg-brand-500 text-white border-2 border-brand-500 shadow-glow-soft":"cursor-pointer bg-transparent border-2 border-gray-600 text-text-secondary hover:border-brand-400 hover:bg-brand-500/10 hover:text-brand-400"),children:["\uD83D\uDCA1 Light Bases (",e.filter(e=>d(e)).length,")"]})]})}),(0,t.jsx)("section",{className:"container mx-auto px-4 pb-12",children:0===v.length?(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("h3",{className:"text-2xl font-semibold text-text-primary mb-4",children:"No products found in this category"}),(0,t.jsx)("button",{onClick:()=>p("all"),className:"px-6 py-3 bg-brand-500 hover:bg-brand-600 text-white rounded-lg transition-colors font-medium shadow-glow-soft",children:"View All Products"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:v.map(e=>{var s;return(0,t.jsxs)("div",{className:"bg-dark-surface rounded-lg overflow-hidden shadow-md hover:shadow-glow-soft transition-all duration-base h-full flex flex-col group",children:[(0,t.jsxs)("div",{className:"flex justify-center relative rounded-lg overflow-hidden h-52",children:[(0,t.jsxs)("div",{className:"relative group transition-transform duration-500 transform ease-in-out hover:scale-110 w-full",children:[(0,t.jsx)(l.default,{src:(null==(s=e.images[0])?void 0:s.src)||"/img/placeholder.jpg",alt:e.name,fill:!0,className:"object-cover transition-transform duration-base group-hover:scale-105",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 70vw, 35vw"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black opacity-10"})]}),d(e)&&(0,t.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-600/90 text-white px-2 py-1 rounded text-xs font-semibold",children:"\uD83D\uDCA1 Light Base"})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-grow p-4",children:[(0,t.jsx)("h4",{className:"text-xs font-semibold text-text-primary mb-2 line-clamp-2",children:e.name}),e.categories&&e.categories.length>0&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("span",{className:"inline-block px-2 py-1 bg-brand-600 text-white text-xs rounded font-medium",children:e.categories[0]})}),(0,t.jsxs)("div",{className:"mt-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-brand-400",children:["$",e.basePrice.toFixed(2)]}),e.sizes&&e.sizes.length>1&&(0,t.jsxs)("small",{className:"text-text-tertiary text-sm",children:[e.sizes.length," sizes"]})]}),(0,t.jsx)(o(),{href:"/products/".concat(e.slug),className:"block w-full px-4 py-2 bg-brand-500 hover:bg-brand-600 text-white text-center rounded-lg transition-colors font-medium",children:"View Details"})]})]})]},e.id)})})})]})}}},e=>{e.O(0,[874,766,441,964,358],()=>e(e.s=847)),_N_E=e.O()}]);