(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{2043:(e,s,t)=>{Promise.resolve().then(t.bind(t,8983))},8983:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5155),r=t(6874),n=t.n(r),o=t(2115),l=t(9723);function c(){let[e,s]=(0,o.useState)({name:"",phone:"",email:"",comment:""}),[t,r]=(0,o.useState)({}),[c,i]=(0,o.useState)(!1),[d,m]=(0,o.useState)(null),[u,b]=(0,o.useState)(!1);(0,o.useEffect)(()=>{sessionStorage.getItem("contactSubmitted")&&(b(!0),l.vF.info("Contact form already submitted this session"))},[]);let h=e=>{let{name:a,value:n}=e.target;s(e=>({...e,[a]:n})),t[a]&&r(e=>({...e,[a]:""}))},x=async t=>{if(t.preventDefault(),u)return void m({type:"warning",message:"You already submitted a message this session"});if((()=>{let s={};e.name.trim()?e.name.length<2&&(s.name="Name must be at least 2 characters"):s.name="Name is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(s.email="Please enter a valid email"):s.email="Email is required",e.phone.trim()&&(/^[\d\s\-\(\)]+$/.test(e.phone)||(s.phone="Invalid phone number")),e.comment.trim()?e.comment.length<10&&(s.comment="Message must be at least 10 characters"):s.comment="Message is required",r(s);let t=0===Object.keys(s).length;return t?l.vF.success("Form validation passed"):l.vF.error("Form validation failed",s),t})()){i(!0),m(null),l.vF.api("POST /api/sendContact.php",e);try{let t=await fetch("/api/sendContact.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.text(),r=JSON.parse(a);if(t.ok)l.vF.success("Contact form submitted",r),m({type:"success",message:r.message||"Thank you! We'll contact you soon."}),sessionStorage.setItem("contactSubmitted","true"),b(!0),s({name:"",phone:"",email:"",comment:""});else throw Error(r.error||"Submission failed")}catch(e){l.vF.error("Contact form error",e),m({type:"danger",message:e.message||"An error occurred. Please try again."})}finally{i(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)("section",{className:"hero px-8 py-16 text-center",children:(0,a.jsxs)("div",{className:"hero-content max-w-xl mx-auto",children:[(0,a.jsx)("h1",{className:"primary-header mb-4",children:"Contact Us"}),(0,a.jsx)("p",{className:"lead",children:"Welcome to CrystalKeepsakes, where cherished moments are transformed into stunning 3D laser-engraved crystal creations."})]})}),(0,a.jsx)("nav",{className:"breadcrumbs py-4",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)(n(),{href:"/",className:"hover:text-brand-400 transition-colors",children:"Home"}),(0,a.jsx)("span",{className:"mx-2 text-gray-600",children:"/"}),(0,a.jsx)("span",{className:"text-text-tertiary",children:"Contact Us"})]})}),(0,a.jsx)("section",{className:"py-12 md:py-16 bg-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[d&&(0,a.jsx)("div",{className:"mb-6 p-4 rounded-lg border ".concat("success"===d.type?"bg-green-50 border-green-200 text-green-800":"warning"===d.type?"bg-yellow-50 border-yellow-200 text-yellow-800":"bg-red-50 border-red-200 text-red-800"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("p",{className:"flex-1",children:d.message}),(0,a.jsx)("button",{onClick:()=>m(null),className:"ml-4 text-current hover:opacity-70","aria-label":"Close",children:"âœ•"})]})}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"contact-name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Name ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)("input",{autoComplete:"name",type:"text",name:"name",id:"contact-name",value:e.name,onChange:h,disabled:c||u,className:"w-full px-4 py-3 rounded-lg border ".concat(t.name?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-2 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors"),placeholder:"Your full name"}),t.name&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:t.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"contact-phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,a.jsx)("input",{autoComplete:"tel",type:"tel",id:"contact-phone",name:"phone",value:e.phone,onChange:h,disabled:c||u,className:"w-full px-4 py-3 rounded-lg border ".concat(t.phone?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-2 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors"),placeholder:"(555) 123-4567"}),t.phone&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:t.phone})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"contact-email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)("input",{autoComplete:"email",type:"email",name:"email",id:"contact-email",value:e.email,onChange:h,disabled:c||u,className:"w-full px-4 py-3 rounded-lg border ".concat(t.email?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-2 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors"),placeholder:"you@example.com"}),t.email&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:t.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"contact-comment",className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)("textarea",{autoComplete:"off",rows:5,id:"contact-comment",name:"comment",value:e.comment,onChange:h,disabled:c||u,className:"w-full px-4 py-3 rounded-lg border ".concat(t.comment?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"," focus:outline-none focus:ring-2 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors resize-none"),placeholder:"Tell us about your project or question..."}),t.comment&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-600",children:t.comment})]}),(0,a.jsx)("button",{type:"submit",disabled:c||u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:c?"Sending...":u?"Message Sent":"Send Message"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-4",children:[(0,a.jsx)("span",{className:"text-red-600",children:"*"})," Required fields"]})]})]})})})]})}},9723:(e,s,t)=>{"use strict";t.d(s,{vF:()=>a});let a={api:(e,s)=>{1},success:(e,s)=>{1},warn:(e,s)=>{1},error:(e,s)=>{},image:(e,s)=>{},order:(e,s)=>{1},product:(e,s)=>{1},payment:(e,s)=>{1},info:(e,s)=>{1}}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=2043)),_N_E=e.O()}]);