(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{5078:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(2115),i=s(6874),l=s.n(i);let n=(0,s(9946).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);function o(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(0),[o,c]=(0,r.useState)(!0),[d,m]=(0,r.useState)(!1);async function h(){m(!0);try{let t={order_id:"CK-".concat(Date.now()),customer_name:"",email:"",phone:"",staff_user:"Web Order",shipping_method:"air",destination:"customer_home",shipping_address:{},billing_address:{},items:e.map(e=>{var t;return{sku:e.sku||e.productId,qty:e.quantity,price:e.price||e.totalPrice||0,name:e.name,custom_options:function(e){let t=[],s=e=>e?"string"==typeof e?e:"object"==typeof e&&(e.name||e.id)||String(e):"";if(e.options.size){var a;t.push({option_id:"size",option_value:(null==(a=e.sizeDetails)?void 0:a.name)||s(e.options.size)})}if(e.options.background&&t.push({option_id:"background",option_value:s(e.options.background)}),e.options.lightBase&&t.push({option_id:"lightBase",option_value:s(e.options.lightBase)}),e.options.giftStand&&t.push({option_id:"giftStand",option_value:s(e.options.giftStand)}),e.options.customText){let s="string"==typeof e.options.customText?e.options.customText:"".concat(e.options.customText.line1||""," ").concat(e.options.customText.line2||"").trim();s&&t.push({option_id:"customText",option_value:s})}return t}(e),custom_image_url:(null==(t=e.customImage)?void 0:t.dataUrl)||e.options.rawImageUrl||e.options.imageUrl||void 0}}),total:s};sessionStorage.setItem("pendingOrder",JSON.stringify({cartItems:e,subtotal:s,total:s,orderNumber:t.order_id,cockpitOrderData:t})),window.location.href="/checkout"}catch(e){console.error("Checkout error:",e),alert("Failed to proceed to checkout. Please try again."),m(!1)}}return(0,r.useEffect)(()=>{let e=JSON.parse(localStorage.getItem("cart")||"[]");t(e),i(e.reduce((e,t)=>e+(t.price||t.totalPrice||0)*t.quantity,0)),c(!1)},[]),o?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:(0,a.jsx)("div",{className:"spinner-border text-success",style:{width:"3rem",height:"3rem"},children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):0===e.length?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,a.jsx)("section",{className:"hero px-8 py-16 text-center",children:(0,a.jsxs)("div",{className:"hero-content max-w-xl mx-auto",children:[(0,a.jsx)("h1",{className:"primary-header mb-4",children:"Your Cart is Empty"}),(0,a.jsx)("p",{className:"lead",children:"Add some beautiful crystals to get started!"})]})}),(0,a.jsx)("div",{className:"container mt-5",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsxs)("div",{className:"col-sm-8 mx-auto text-center",children:[(0,a.jsx)("p",{className:"mb-4",children:"Ready to create something special?"}),(0,a.jsx)(l(),{href:"/products",className:"btn btn-primary rounded-lg px-4 py-3",children:"Browse Our Designs"})]})})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,a.jsx)("section",{className:"hero px-8 py-16 text-center",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"hero-content text-center",children:[(0,a.jsx)("h1",{className:"primary-header",children:"Your Cart"}),(0,a.jsx)("p",{className:"lead mt-3",children:"Review your selections and complete checkout"})]})})}),(0,a.jsx)("nav",{className:"breadcrumbs py-4",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)(l(),{href:"/",className:"hover:text-brand-400 transition-colors",children:"Home"}),(0,a.jsx)("span",{className:"mx-2 text-gray-600",children:"/"}),(0,a.jsx)(l(),{href:"/products",className:"hover:text-brand-400 transition-colors",children:"Products"}),(0,a.jsx)("span",{className:"mx-2 text-gray-600",children:"/"}),(0,a.jsx)("span",{className:"text-text-tertiary",children:"Cart"})]})}),(0,a.jsx)("section",{className:"container mt-4 mb-5 w-full px-4 mx-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsxs)("div",{className:"cart-items rounded-xl border border-gray-700/50 bg-gray-900/50 p-5 backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex justify-content-between align-items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-emerald-400 font-bold",children:["Your Items (",e.length,")"]}),(0,a.jsx)("button",{className:"btn btn-outline-danger px-3 py-2 rounded-md btn-sm hover:bg-red-500/20 transition-colors hover:cursor-pointer",onClick:function(){window.confirm("Are you sure you want to clear your cart?")&&(t([]),i(0),localStorage.removeItem("cart"),window.dispatchEvent(new Event("cartUpdated")))},children:"Clear Cart"})]}),e.map((s,r)=>{var l,o,c,d,m,h,u,x,p,g;return(0,a.jsxs)("div",{className:"cart-item rounded-xl border border-emerald-500/30 bg-emerald-500/5 mb-4 p-4 hover:border-emerald-500/50 transition-all",children:[(0,a.jsx)("h4",{className:"mb-3 text-emerald-100 font-semibold",children:s.name}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"col-12 col-md-6 mb-3 mb-md-0",children:((null==(l=s.customImage)?void 0:l.dataUrl)||(null==(o=s.options)?void 0:o.rawImageUrl)||(null==(c=s.options)?void 0:c.imageUrl)||(null==(d=s.options)?void 0:d.maskedImageUrl))&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h6",{className:"small mb-2 text-emerald-300 font-semibold",children:"Your Custom Image:"}),(0,a.jsx)("div",{className:"rounded-lg overflow-hidden border-2 border-emerald-500/30 bg-gray-900/50",children:(0,a.jsx)("img",{src:(null==(m=s.customImage)?void 0:m.dataUrl)||(null==(h=s.options)?void 0:h.maskedImageUrl)||(null==(u=s.options)?void 0:u.imageUrl)||(null==(x=s.options)?void 0:x.rawImageUrl)||"",alt:"Custom design",className:"img-fluid w-full",style:{maxHeight:"300px",width:"auto",margin:"0 auto",display:"block"},onError:e=>e.currentTarget.style.display="none"})}),s.customImage&&(0,a.jsxs)("small",{className:"text-emerald-400/70 d-block mt-2 text-center",children:[s.customImage.width,"x",s.customImage.height,"px"]})]})}),(0,a.jsxs)("div",{className:"col-12 col-md-6",children:[s.options&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h6",{className:"mb-2 text-emerald-300 font-semibold",children:"Product Details:"}),(0,a.jsxs)("ul",{className:"list-unstyled small text-gray-300",children:[s.sizeDetails&&(0,a.jsxs)("li",{className:"mb-1",children:[(0,a.jsx)("span",{className:"text-emerald-400",children:"Size:"})," ",(0,a.jsx)("span",{className:"text-gray-200",children:s.sizeDetails.name})]}),s.options.background&&(0,a.jsxs)("li",{className:"mb-1",children:[(0,a.jsx)("span",{className:"text-emerald-400",children:"Background:"})," ",(0,a.jsx)("span",{className:"text-gray-200",children:"object"==typeof s.options.background?s.options.background.name||s.options.background.id:s.options.background})]}),s.options.lightBase&&(0,a.jsxs)("li",{className:"mb-1",children:[(0,a.jsx)("span",{className:"text-emerald-400",children:"Light Base:"})," ",(0,a.jsx)("span",{className:"text-gray-200",children:"object"==typeof s.options.lightBase?s.options.lightBase.name||s.options.lightBase.id:s.options.lightBase})]}),s.options.giftStand&&(0,a.jsxs)("li",{className:"mb-1",children:[(0,a.jsx)("span",{className:"text-emerald-400",children:"Stand:"})," ",(0,a.jsx)("span",{className:"text-gray-200",children:"object"==typeof s.options.giftStand?s.options.giftStand.name||s.options.giftStand.id:s.options.giftStand})]}),((null==(p=s.customImage)?void 0:p.dataUrl)||s.options.rawImageUrl)&&(0,a.jsx)("li",{className:"mb-1 text-success",children:"âœ“ Custom Image Added"})]})]}),(null==(g=s.options)?void 0:g.customText)&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h6",{className:"mb-2 text-emerald-300 font-semibold",children:"Custom Text:"}),"string"==typeof s.options.customText?(0,a.jsx)("p",{className:"small mb-0 text-gray-300 italic",children:s.options.customText}):(0,a.jsxs)("ul",{className:"list-unstyled small text-gray-300",children:[s.options.customText.line1&&(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"text-emerald-400",children:"Line 1:"})," ",s.options.customText.line1]}),s.options.customText.line2&&(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"text-emerald-400",children:"Line 2:"})," ",s.options.customText.line2]})]})]}),!1,(0,a.jsxs)("div",{className:"mt-3 pt-3 border-top border-emerald-500/20 d-flex justify-content-between align-items-center",children:[(0,a.jsxs)("h5",{className:"mb-0",children:[(0,a.jsxs)("span",{className:"text-emerald-400 font-bold",children:["$",(s.price||s.totalPrice||0).toFixed(2)]}),(0,a.jsxs)("small",{className:"text-gray-400 d-block",children:["Qty: ",s.quantity]})]}),(0,a.jsxs)("button",{className:"btn btn-outline-danger text-center px-2 rounded-md btn-sm hover:bg-red-500/20 transition-colors hover:cursor-pointer",onClick:()=>(function(s){let a=e.filter((e,t)=>t!==s);t(a),localStorage.setItem("cart",JSON.stringify(a)),i(a.reduce((e,t)=>e+(t.price||t.totalPrice||0)*t.quantity,0)),window.dispatchEvent(new Event("cartUpdated"))})(r),children:[(0,a.jsx)(n,{})," Remove"]})]})]})]})]},r)})]})}),(0,a.jsxs)("div",{className:"cart-summary rounded-xl border border-emerald-500/30 bg-gradient-to-br from-emerald-500/10 to-gray-900/50 p-5 sticky-top backdrop-blur-sm",style:{top:"100px"},children:[(0,a.jsx)("h3",{className:"mb-4 text-emerald-300 font-bold",children:"Order Summary"}),(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-3 text-gray-200",children:[(0,a.jsx)("span",{children:"Subtotal:"})," ",(0,a.jsxs)("span",{className:"font-semibold",children:["$",s.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-3 pb-3 border-bottom border-emerald-500/20 text-gray-400",children:[(0,a.jsx)("span",{children:"Shipping:"})," ",(0,a.jsx)("span",{children:"Calculated at checkout"})]}),(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-4",children:[(0,a.jsx)("h4",{className:"mb-0 text-emerald-100",children:"Total:"}),(0,a.jsxs)("h4",{className:"mb-0 text-emerald-400 font-bold",children:["$",s.toFixed(2)]})]}),(0,a.jsx)("button",{onClick:h,disabled:d,className:"btn btn-lg p-4 w-full mb-3 bg-emerald-600 hover:bg-emerald-500 border-0 text-white font-semibold transition-all shadow-lg shadow-emerald-500/20",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Processing..."]}):"Proceed to Checkout"}),(0,a.jsx)("p",{className:"text-center text-gray-400 small mb-0",children:"\uD83D\uDD12 Secure checkout powered by Stripe"})]})]})}),!1]})}},8353:(e,t,s)=>{Promise.resolve().then(s.bind(s,5078))},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(2115);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...l,width:r,height:r,stroke:s,strokeWidth:o?24*Number(n)/Number(r):n,className:i("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:o,...c}=s;return(0,a.createElement)(n,{ref:l,iconNode:t,className:i("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return s.displayName=r(e),s}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=8353)),_N_E=e.O()}]);